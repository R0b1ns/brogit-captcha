/*!
  * brogit v1.19.7 (https://brogit.de/)
  * 2017-2019 Copyright (c) brogit
  * Requirements: jQuery 3
  */var boottime=(new Date).getTime(),baseOrigin=document.baseURI;baseOrigin||(baseTags=document.getElementsByTagName("base"),baseOrigin=baseTags.length?baseTags[0].href:document.URL);var client=new Client(baseOrigin)||{};function Client(t){this.origin=t,this.request={dataType:"json",url:this.origin},this.status="init",$(window).scroll(function(){$(".client-reloader").each(n)});var e=0,i=0;function n(){var t=$(this).offset().top+$(this).height();$(window).scrollTop()+$(window).height()>t&&client.loxhr_reload($(this))}this.origin!=location.origin&&(this.request.xhrFields={withCredentials:!0},this.request.crossDomain=!0),this.xhr=function(t,n,a,s){e++,this.checkloading(),$.ajax($.extend({},this.request,{type:t,url:this.origin+n,data:a,success:function(t,e,i){s(t,a,e,i)},error:function(t,e,i){s(t,a,e,i)},complete:function(t,e){i++,client.checkloading()}}))},this.loxhrStorage=new Array,this.loxhr=function(t,e,i,a,s){if(!s.hasClass("client-reloader")&&!this.loxhrStorage[s]){s.addClass("client-reloader"),i.limit=10,i.offset=0;this.loxhrStorage[s]={status:"ready",mode:t,route:e,data:i,callback:function(t,e,i,o){a(t,e,i,o),(lodata=client.loxhrStorage[s])?(lodata.data.offset+=lodata.data.limit,lodata.status="success"==i?"ready":"error"):console.error("Element not in storage."),$(".client-reloader").each(n)}}}this.loxhr_reload(s)},this.loxhr_reload=function(t){(data=this.loxhrStorage[t])&&"ready"==data.status&&(data.status="load",this.xhr(data.mode,data.route,data.data,data.callback))},this.upload=function(t,e){if("undefined"!=typeof FormData){var i=new FormData;i.append("file",t)}$.ajax($.extend({},this.request,{type:"POST",url:this.origin+"api/file",cache:!1,contentType:!1,processData:!1,mimeType:"multipart/form-data",data:i,xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",e.progress,!0),t},complete:e.complete}))},this.basicauth=function(t,e,i){$.ajax($.extend({},this.request,{type:"GET",data:t,beforeSend:function(t){t.setRequestHeader("Authorization","Basic "+btoa(e))}})).done(i)};var a=new Array;this.cbadd=function(t){return"function"==typeof t?(a.push(t),!0):(console.error("'callback' is not a function"),!1)},this.cbdo=function(){for(var t=a.length-1;t>=0;t--)a[t]();this.cbQueue=new Array},this.checkloading=function(){e!=i&&"load"!=this.status?(this.status="load",this.loadCallback()):e==i&&(this.status="ready",this.readyCallback())},this.loadCallback=function(){$("main").append('<div class="load"><div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div></div>')},this.readyCallback=function(){$(".load").fadeOut(1e3,function(){$(this).remove()})},this.ai=new ClientResponse||{}}function ClientResponse(){var t,e=null,i=null,n=null,a=this,s=[],o=[],r={},l=[];this.init=function(t){(e=$('<div class="display-4 my-2 text-center response-text"></div>')).hide(),(i=$(".container-response")).append(e),n=t},this.setRoute=function(t){n=t},this.say=function(t,i,n){i=i||function(){},my_delay_long=n||1e3,e.text(t),e.fadeIn().delay(this.autodelay(t)).fadeOut(my_delay_long,i)},this.choice=function(t,i,n){i=i||function(){},my_delay_short=n||500,e.text(t),e.fadeIn().delay(my_delay_short).fadeIn(0,i)},this.addTemplate=function(t,e){e=e||function(){};var n=$($(t).html());if(n.hide(),n.hasClass("was-validated")&&n.hasClass("disable-submit")){var a=n.find(":submit");a.attr("disabled",!0),n.on("keyup",function(t,e){!1===this.checkValidity()?a.attr("disabled",!0):a.attr("disabled",!1)})}return e(n),i.append(n),n.fadeIn(),r[t]=n,n},this.removeTemplate=function(t,i,n){if(i=i||function(){},my_delay_long=n||1e3,!r[t])return!1;r[t].fadeOut(500,function(){$(this).remove(),delete r[t],e.fadeOut(my_delay_long,function(){i()})})},this.startChoice=function(t,e,i,n){if("object"==typeof i)var s=i,o=function(t){t.on("submit",function(t){t.preventDefault(),$(this).addClass("was-validated"),a.proceed($(this).serialize(),s,n)})};else o=i;this.choice(t,function(){a.addTemplate(e,o)})},this.finishChoice=function(t,e,i){this.removeTemplate(t,function(){a.say(e,i)})},this.choiceWay=function(t,e,i,n,s,r,l){l&&(t=n,e=o[o.length-1]&&o[o.length-1].statusText?o[o.length-1].statusText+". Versuchen wir es erneut":"Versuchen wir es erneut"),this.finishChoice(t,e,function(){a.startChoice(i,n,s,r)})},this.autodelay=function(t){return 50*t.length},this.proceed=function(t,e,i){var r=n;if(!r)return!1;if(e=e||{success:function(t){t.next()},failed:function(t){t.repeat()}},i=null==i||i){var l={};switch(typeof t){case"string":l=$.parseParams(t);break;case"object":l=t}$.extend(s,l)}client.xhr("post",r,t,function(t,i,n,s){o=$.merge(o,[t]),"success"==n?"function"==typeof e.success&&e.success(a,t,i):"function"==typeof e.failed&&e.failed(a,t,i)})},this.showContext=function(){console.log(s),console.log(o)},this.queue=function(t){if("function"==typeof t)return l.push(t);console.debug("Callback not callable")},this.start=function(){t=0;var e=Object.keys(r);if(!e.length)return this.call();a.removeTemplate(e.pop(),function(){a.start()})},this.previous=function(){return t--,this.call(t)},this.next=function(){return t++,this.call(t)},this.repeat=function(){return this.call(null,!0)},this.call=function(e,i){if(e=null!=e?e:t,i=null!=i&&i,l.length>=e){var n=l[e];if("function"==typeof n)return n(i)}console.debug("Callback not callable")}}function formatBytes(t,e){if(0==t)return"0 Bytes";var i=e||2,n=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,n)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}Array.prototype.remove=function(){for(var t,e,i=arguments,n=i.length;n&&this.length;)for(t=i[--n];-1!==(e=this.indexOf(t));)this.splice(e,1);return this},Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var t=0,e=this.length;t<e;t++)this[t]&&this[t].parentElement&&this[t].parentElement.removeChild(this[t])},Number.prototype.formatMoney=function(t,e,i){var n=this,a=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?".":e,i=null==i?",":i,n<0?"-":""),s=String(parseInt(n=Math.abs(Number(n)||0).toFixed(t))),o=(o=s.length)>3?o%3:0;return a+(o?s.substr(0,o)+i:"")+s.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?e+Math.abs(n-s).toFixed(t).slice(2):"")},function(t){var e=/([^&=]+)=?([^&]*)/g,i=/\+/g,n=function(t){return decodeURIComponent(t.replace(i," "))};t.parseParams=function(t){for(var i,a={};i=e.exec(t);){var s=n(i[1]),o=n(i[2]);"[]"===s.substring(s.length-2)?(a[s=s.substring(0,s.length-2)]||(a[s]=[])).push(o):a[s]=o}return a}}(jQuery);